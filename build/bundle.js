var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,i){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}(n,i))}function l(t,e,n,i){if(t){const o=u(t,e,n,i);return t[0](o)}}function u(t,e,n,i){return t[1]&&i?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](i(e))):n.ctx}function a(t,e,n,i,o,s,r){const c=function(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|o[i];return t}return e.dirty|o}return e.dirty}(e,i,o,s);if(c){const o=u(e,n,i,r);t.p(o,c)}}function d(t,e,n=e){return t.set(n),e}const f="undefined"!=typeof window;let p=f?()=>window.performance.now():()=>Date.now(),m=f?t=>requestAnimationFrame(t):t;const h=new Set;function $(t){h.forEach(e=>{e.c(t)||(h.delete(e),e.f())}),0!==h.size&&m($)}function g(t){let e;return 0===h.size&&m($),{promise:new Promise(n=>{h.add(e={c:t,f:n})}),abort(){h.delete(e)}}}function v(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function k(){return x(" ")}function _(){return x("")}function E(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function j(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e){e=""+e,t.data!==e&&(t.data=e)}function A(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}let R;function M(){if(void 0===R){R=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){R=!0}}return R}function N(t,e){const n=getComputedStyle(t),i=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(t.style.position="relative");const o=b("iframe");o.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${i};`),o.setAttribute("aria-hidden","true"),o.tabIndex=-1;const s=M();let r;return s?(o.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=E(window,"message",t=>{t.source===o.contentWindow&&e()})):(o.src="about:blank",o.onload=()=>{r=E(o.contentWindow,"resize",e)}),v(t,o),()=>{(s||r&&o.contentWindow)&&r(),w(o)}}function T(t,e,n){t.classList[n?"add":"remove"](e)}const z=new Set;let F,S=0;function q(t,e,n,i,o,s,r,c=0){const l=16.666/i;let u="{\n";for(let t=0;t<=1;t+=l){const i=e+(n-e)*s(t);u+=100*t+`%{${r(i,1-i)}}\n`}const a=u+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${c}`,f=t.ownerDocument;z.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(b("style")).sheet),m=f.__svelte_rules||(f.__svelte_rules={});m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${a}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?h+", ":""}${d} ${i}ms linear ${o}ms 1 both`,S+=1,d}function B(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-i.length;o&&(t.style.animation=i.join(", "),S-=o,S||m(()=>{S||(z.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),z.clear())}))}function P(t){F=t}function D(t){(function(){if(!F)throw new Error("Function called outside component initialization");return F})().$$.on_mount.push(t)}const O=[],I=[],L=[],U=[],X=Promise.resolve();let H=!1;function W(t){L.push(t)}function Y(t){U.push(t)}let J=!1;const V=new Set;function G(){if(!J){J=!0;do{for(let t=0;t<O.length;t+=1){const e=O[t];P(e),K(e.$$)}for(O.length=0;I.length;)I.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];V.has(e)||(V.add(e),e())}L.length=0}while(O.length);for(;U.length;)U.pop()();H=!1,J=!1,V.clear()}}function K(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}let Q;function Z(){return Q||(Q=Promise.resolve(),Q.then(()=>{Q=null})),Q}function tt(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const et=new Set;let nt;function it(){nt={r:0,c:[],p:nt}}function ot(){nt.r||o(nt.c),nt=nt.p}function st(t,e){t&&t.i&&(et.delete(t),t.i(e))}function rt(t,e,n,i){if(t&&t.o){if(et.has(t))return;et.add(t),nt.c.push(()=>{et.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}const ct={duration:0};function lt(n,i,o){let r,c,l=i(n,o),u=!1,a=0;function d(){r&&B(n,r)}function f(){const{delay:i=0,duration:o=300,easing:s=e,tick:f=t,css:m}=l||ct;m&&(r=q(n,0,1,o,i,s,m,a++)),f(0,1);const h=p()+i,$=h+o;c&&c.abort(),u=!0,W(()=>tt(n,!0,"start")),c=g(t=>{if(u){if(t>=$)return f(1,0),tt(n,!0,"end"),d(),u=!1;if(t>=h){const e=s((t-h)/o);f(e,1-e)}}return u})}let m=!1;return{start(){m||(B(n),s(l)?(l=l(),Z().then(f)):f())},invalidate(){m=!1},end(){u&&(d(),u=!1)}}}function ut(n,i,r){let c,l=i(n,r),u=!0;const a=nt;function d(){const{delay:i=0,duration:s=300,easing:r=e,tick:d=t,css:f}=l||ct;f&&(c=q(n,1,0,s,i,r,f));const m=p()+i,h=m+s;W(()=>tt(n,!1,"start")),g(t=>{if(u){if(t>=h)return d(0,1),tt(n,!1,"end"),--a.r||o(a.c),!1;if(t>=m){const e=r((t-m)/s);d(1-e,e)}}return u})}return a.r+=1,s(l)?Z().then(()=>{l=l(),d()}):d(),{end(t){t&&l.tick&&l.tick(1,0),u&&(c&&B(n,c),u=!1)}}}function at(t,e){t.d(1),e.delete(t.key)}function dt(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function ft(t){t&&t.c()}function pt(t,e,i){const{fragment:r,on_mount:c,on_destroy:l,after_update:u}=t.$$;r&&r.m(e,i),W(()=>{const e=c.map(n).filter(s);l?l.push(...e):o(e),t.$$.on_mount=[]}),u.forEach(W)}function mt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ht(t,e){-1===t.$$.dirty[0]&&(O.push(t),H||(H=!0,X.then(G)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function $t(e,n,s,r,c,l,u=[-1]){const a=F;P(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:i(),dirty:u};let p=!1;if(f.ctx=s?s(e,d,(t,n,...i)=>{const o=i.length?i[0]:n;return f.ctx&&c(f.ctx[t],f.ctx[t]=o)&&(f.bound[t]&&f.bound[t](o),p&&ht(e,t)),n}):[],f.update(),p=!0,o(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(w)}else f.fragment&&f.fragment.c();n.intro&&st(e.$$.fragment),pt(e,n.target,n.anchor),G()}P(a)}class gt{$destroy(){mt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function vt(t){let e;return{c(){e=b("div"),A(e,"transform","translate("+t[2].x+"px, "+t[2].y+"px) scale("+t[3]+")"),j(e,"class","svelte-1eavhw6"),T(e,"pressed",t[0]),T(e,"scrubbing",t[1])},m(t,n){y(t,e,n)},p(t,n){12&n&&A(e,"transform","translate("+t[2].x+"px, "+t[2].y+"px) scale("+t[3]+")"),1&n&&T(e,"pressed",t[0]),2&n&&T(e,"scrubbing",t[1])},d(t){t&&w(e)}}}function yt(e){let n,i=e[2]&&vt(e);return{c(){i&&i.c(),n=_()},m(t,e){i&&i.m(t,e),y(t,n,e)},p(t,[e]){t[2]?i?i.p(t,e):(i=vt(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:t,o:t,d(t){i&&i.d(t),t&&w(n)}}}function wt(t,e,n){let i,o,s,{position:r}=e,{container:c}=e,{pressed:l}=e,{scrubbing:u}=e;return t.$set=t=>{"position"in t&&n(4,r=t.position),"container"in t&&n(5,c=t.container),"pressed"in t&&n(0,l=t.pressed),"scrubbing"in t&&n(1,u=t.scrubbing)},t.$$.update=()=>{16&t.$$.dirty&&n(2,i=function(t){return c?(o=c.getBoundingClientRect(),{x:t.x*o.width-10,y:t.y*o.height-10}):t}(r)),1&t.$$.dirty&&n(3,s=l?1.2:1)},[l,u,i,s,r,c]}class bt extends gt{constructor(t){super(),$t(this,t,wt,yt,r,{position:4,container:5,pressed:0,scrubbing:1})}}const xt=[];function kt(e,n=t){let i;const o=[];function s(t){if(r(e,t)&&(e=t,i)){const t=!xt.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),xt.push(n,e)}if(t){for(let t=0;t<xt.length;t+=2)xt[t][0](xt[t+1]);xt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(r,c=t){const l=[r,c];return o.push(l),1===o.length&&(i=n(s)||t),r(e),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(i(),i=null)}}}}const _t=function(){const{subscribe:t,set:e,update:n}=kt([]);return{subscribe:t,add:t=>n(e=>(e.push(t),e=e)),reset:()=>e([])}}(),Et=kt([]);function jt(t){return Math.round(10*t)}function Ct(t,e){t();let n=setTimeout((function i(){t(),n=setTimeout(i,e)}),e);return{clear(){clearInterval(n)}}}function At(t){let e;const n=new bt({props:{position:t[1],pressed:t[2],container:t[0],scrubbing:t[3]}});return{c(){ft(n.$$.fragment)},m(t,i){pt(n,t,i),e=!0},p(t,e){const i={};2&e&&(i.position=t[1]),4&e&&(i.pressed=t[2]),1&e&&(i.container=t[0]),8&e&&(i.scrubbing=t[3]),n.$set(i)},i(t){e||(st(n.$$.fragment,t),e=!0)},o(t){rt(n.$$.fragment,t),e=!1},d(t){mt(n,t)}}}function Rt(t){let e,n,i,r,c,u,d,f=t[4]&&At(t);const p=t[18].default,m=l(p,t,t[17],null);return{c(){e=b("div"),n=b("div"),i=b("div"),f&&f.c(),r=k(),m&&m.c(),j(i,"class","inner svelte-4zeg1e"),j(n,"class","video svelte-4zeg1e"),j(e,"class","main svelte-4zeg1e")},m(o,l){var a;y(o,e,l),v(e,n),v(n,i),f&&f.m(i,null),v(i,r),m&&m.m(i,null),t[19](i),c=!0,u||(d=[E(window,"keydown",t[8]),E(window,"keyup",t[9]),E(window,"mousemove",t[5]),E(window,"mouseup",t[6]),E(e,"mousedown",t[7]),E(e,"contextmenu",(a=Mt,function(t){return t.preventDefault(),a.call(this,t)})),E(e,"mouseleave",t[20]),E(e,"mouseenter",(function(){s(t[4]=!0)&&(t[4]=!0).apply(this,arguments)}))],u=!0)},p(e,[n]){(t=e)[4]?f?(f.p(t,n),16&n&&st(f,1)):(f=At(t),f.c(),st(f,1),f.m(i,r)):f&&(it(),rt(f,1,1,()=>{f=null}),ot()),m&&m.p&&131072&n&&a(m,p,t,t[17],n,null,null)},i(t){c||(st(f),st(m,t),c=!0)},o(t){rt(f),rt(m,t),c=!1},d(n){n&&w(e),f&&f.d(),m&&m.d(n),t[19](null),u=!1,o(d)}}}function Mt(){return!1}function Nt(t,e,n){let i,o;c(t,Et,t=>n(15,i=t));let s,r,l,{container:u}=e,{points:a}=e,f=!1,p=0,m=!1,{time:h}=e;function $(t){let e=u.getBoundingClientRect(),n=t.x-e.left,i=t.y-e.top;return{x:n/e.width,y:i/e.height}}let{$$slots:g={},$$scope:v}=e;return t.$set=t=>{"container"in t&&n(0,u=t.container),"points"in t&&n(10,a=t.points),"time"in t&&n(11,h=t.time),"$$scope"in t&&n(17,v=t.$$scope)},[u,o,s,f,r,function(t){n(1,o=$({x:t.clientX,y:t.clientY})),s&&d(Et,i[jt(h)]={...o,track:p,time:h},i),f&&d(Et,i[jt(h)]="deleted",i),(s||f)&&_t.add({...o,time:h,track:p,left:s,right:f})},function(t){n(2,s=!1),n(1,o=$({x:t.clientX,y:t.clientY})),l&&l.clear(),l=null,n(3,f=!1),m&&n(10,a=[o])},function(t){n(10,a=[]),4==t.buttons&&(p+=1,n(2,s=!1),n(3,f=!1),m=!0),1==t.buttons&&(n(2,s=!0),n(3,f=!1),m=!1,p+=1),2==t.buttons&&(n(2,s=!1),m=!1,n(3,f=!0)),l&&l.clear(),l=Ct((function(){s&&d(Et,i[jt(h)]={...o,track:p,time:h},i),m&&d(Et,i[jt(h)]={...o,track:"Flow",time:h},i),f&&d(Et,i[jt(h)]="deleted",i),_t.add({...o,time:h,track:m?"Flow":p,left:s,right:f})}),20)},function(t){"Backspace"===t.key&&(n(3,f=!0),n(2,s=!1),l||(l=Ct(()=>{f&&d(Et,i[jt(h)]="deleted",i),_t.add({...o,time:h,track:p,left:s,right:f})},20)))},function(t){"Backspace"===t.key&&(n(3,f=!1),l.clear(),l=null)},a,h,p,m,l,i,$,v,g,function(t){I[t?"unshift":"push"](()=>{n(0,u=t)})},()=>n(4,r=!1)]}class Tt extends gt{constructor(t){super(),$t(this,t,Nt,Rt,r,{container:0,points:10,time:11})}}const zt=function(){const{subscribe:t,set:e,update:n}=kt({rate:1,src:"http://localhost:8080/S02_U02_full.mp4",duration:0});return{subscribe:t,play:()=>n(t=>({...t,rate:1})),pause:()=>n(t=>({...t,rate:0})),setDuration:t=>n(e=>({...e,duration:t})),setSrc:t=>n(e=>({...e,src:t}))}}(),Ft=function(){const{subscribe:t,set:e,update:n}=kt(1);return{subscribe:t,increase:()=>n(t=>Math.min(t+.5,4)),decrease:()=>n(t=>Math.max(t-.5,0)),set:e}}();function St(t){return"[object Date]"===Object.prototype.toString.call(t)}function qt(t,e={}){const n=kt(t),{stiffness:i=.15,damping:o=.8,precision:s=.01}=e;let r,c,l,u=t,a=t,d=1,f=0,m=!1;function h(e,i={}){a=e;const o=l={};if(null==t||i.hard||$.stiffness>=1&&$.damping>=1)return m=!0,r=p(),u=e,n.set(t=a),Promise.resolve();if(i.soft){const t=!0===i.soft?.5:+i.soft;f=1/(60*t),d=0}return c||(r=p(),m=!1,c=g(e=>{if(m)return m=!1,c=null,!1;d=Math.min(d+f,1);const i={inv_mass:d,opts:$,settled:!0,dt:60*(e-r)/1e3},o=function t(e,n,i,o){if("number"==typeof i||St(i)){const t=o-i,s=(i-n)/(e.dt||1/60),r=(s+(e.opts.stiffness*t-e.opts.damping*s)*e.inv_mass)*e.dt;return Math.abs(r)<e.opts.precision&&Math.abs(t)<e.opts.precision?o:(e.settled=!1,St(i)?new Date(i.getTime()+r):i+r)}if(Array.isArray(i))return i.map((s,r)=>t(e,n[r],i[r],o[r]));if("object"==typeof i){const s={};for(const r in i)s[r]=t(e,n[r],i[r],o[r]);return s}throw new Error(`Cannot spring ${typeof i} values`)}(i,u,t,a);return r=e,u=t,n.set(t=o),i.settled&&(c=null),!i.settled})),new Promise(t=>{c.promise.then(()=>{o===l&&t()})})}const $={set:h,update:(e,n)=>h(e(a,t),n),subscribe:n.subscribe,stiffness:i,damping:o,precision:s};return $}function Bt(t,{delay:n=0,duration:i=400,easing:o=e}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:i,easing:o,css:t=>"opacity: "+t*s}}function Pt(t){let e;return{c(){e=x("Pause")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Dt(t){let e;return{c(){e=x("Play")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Ot(e){let n,i,o;function s(t,e){return t[0]?Dt:Pt}let r=s(e),c=r(e);return{c(){n=b("button"),c.c(),j(n,"class","svelte-17mag5t")},m(t,s){y(t,n,s),c.m(n,null),i||(o=E(n,"click",e[1]),i=!0)},p(t,[e]){r!==(r=s(t))&&(c.d(1),c=r(t),c&&(c.c(),c.m(n,null)))},i:t,o:t,d(t){t&&w(n),c.d(),i=!1,o()}}}function It(t,e,n){let{paused:i}=e;return t.$set=t=>{"paused"in t&&n(0,i=t.paused)},[i,()=>n(0,i=!i)]}class Lt extends gt{constructor(t){super(),$t(this,t,It,Ot,r,{paused:0})}}var Ut="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Xt="object"==typeof Ut&&Ut&&Ut.Object===Object&&Ut,Ht="object"==typeof self&&self&&self.Object===Object&&self;Xt||Ht||Function("return this")();function Wt(t){let e,n,i,o,s,r,c=Vt(t[6].x/t[1].getBoundingClientRect().width*t[5].duration)+"";return{c(){e=b("div"),n=b("span"),i=x(c),j(n,"class","svelte-r81pn5"),j(e,"class","clock svelte-r81pn5"),A(e,"left",t[6].x/t[1].getBoundingClientRect().width*100+"%")},m(t,o){y(t,e,o),v(e,n),v(n,i),r=!0},p(t,n){(!r||98&n)&&c!==(c=Vt(t[6].x/t[1].getBoundingClientRect().width*t[5].duration)+"")&&C(i,c),(!r||66&n)&&A(e,"left",t[6].x/t[1].getBoundingClientRect().width*100+"%")},i(t){r||(W(()=>{s&&s.end(1),o||(o=lt(e,Bt,{duration:200})),o.start()}),r=!0)},o(t){o&&o.invalidate(),s=ut(e,Bt,{duration:200}),r=!1},d(t){t&&w(e),t&&s&&s.end()}}}function Yt(t){let e,n,i,s,r,c,l,u,a,d,f,p,m,h,$;function g(e){t[13].call(null,e)}let x={};void 0!==t[0]&&(x.paused=t[0]);const _=new Lt({props:x});I.push(()=>dt(_,"paused",g));let C=t[1]&&t[3]&&Wt(t);return{c(){e=k(),n=b("div"),i=b("div"),ft(_.$$.fragment),r=k(),c=b("div"),C&&C.c(),l=k(),u=b("div"),a=k(),d=b("canvas"),j(i,"class","play"),j(u,"class","inner svelte-r81pn5"),j(d,"height",f=1),j(d,"width",p=1920),j(d,"class","svelte-r81pn5"),j(c,"class","outer svelte-r81pn5"),j(n,"class","container svelte-r81pn5")},m(o,s){y(o,e,s),y(o,n,s),v(n,i),pt(_,i,null),v(n,r),v(n,c),C&&C.m(c,null),v(c,l),v(c,u),t[14](u),v(c,a),v(c,d),t[15](d),t[16](c),m=!0,h||($=[E(window,"mousemove",t[12]),E(document.body,"click",t[8]),E(c,"mouseleave",t[17]),E(c,"mouseenter",t[18])],h=!0)},p(t,[e]){const n={};!s&&1&e&&(s=!0,n.paused=t[0],Y(()=>s=!1)),_.$set(n),t[1]&&t[3]?C?(C.p(t,e),10&e&&st(C,1)):(C=Wt(t),C.c(),st(C,1),C.m(c,l)):C&&(it(),rt(C,1,1,()=>{C=null}),ot())},i(t){m||(st(_.$$.fragment,t),st(C),m=!0)},o(t){rt(_.$$.fragment,t),rt(C),m=!1},d(i){i&&w(e),i&&w(n),mt(_),C&&C.d(),t[14](null),t[15](null),t[16](null),h=!1,o($)}}}function Jt(t,e,n,i,o,s,r){let c=4*(e+4e3*n);t.data[c+0]=i,t.data[c+1]=o,t.data[c+2]=s,t.data[c+3]=r}function Vt(t){if(isNaN(t))return"...";const e=Math.floor(t/60);return(t=Math.floor(t%60))<10&&(t="0"+t),`${e}:${t}`}function Gt(t,e,n){let i,o,s;c(t,zt,t=>n(5,i=t)),c(t,Et,t=>n(11,o=t));let r,l,u=qt({x:50,y:50},{stiffness:.5,damping:.95});c(t,u,t=>n(6,s=t));let a,d=!1,{videoElement:f}=e,{time:p}=e,{paused:m}=e;D(()=>{let t=a.getContext("2d");t.getImageData(0,0,1920,1);requestAnimationFrame((function e(){if(i.paused)return void requestAnimationFrame(e);let s=p/i.duration;n(2,l.style.width=100*s+"%",l);let r=o.length/1920;t.clearRect(0,0,1920,1);let c=t.getImageData(0,0,1920,1);for(let t=0;t<=1920;++t){let e=Math.round(r*t),n=o[e];null!=n&&"deleted"!=n&&Jt(c,t,0,255,255,255,255)}t.putImageData(c,0,0),requestAnimationFrame(e)}))});return t.$set=t=>{"videoElement"in t&&n(9,f=t.videoElement),"time"in t&&n(10,p=t.time),"paused"in t&&n(0,m=t.paused)},[m,r,l,d,a,i,s,u,async function(t){if(t.target==r){let e=r.getBoundingClientRect(),o=(t.clientX-e.left)/e.width;n(9,f.currentTime=(o*i.duration).toString(),f)}},f,p,o,t=>u.set({x:t.clientX-r.getBoundingClientRect().x,y:t.clientY}),function(t){m=t,n(0,m)},function(t){I[t?"unshift":"push"](()=>{n(2,l=t)})},function(t){I[t?"unshift":"push"](()=>{n(4,a=t)})},function(t){I[t?"unshift":"push"](()=>{n(1,r=t)})},()=>n(3,d=!1),()=>n(3,d=!0)]}class Kt extends gt{constructor(t){super(),$t(this,t,Gt,Yt,r,{videoElement:9,time:10,paused:0})}}function Qt(t,e,n){const i=t.slice();return i[23]=e[n],i}function Zt(t){let e,n,i,o,s,r,c=ne(t[8](t[6].x),!0)+"";return{c(){e=b("div"),n=b("span"),i=x(c),j(e,"class","clock svelte-1mqkjhh"),A(e,"left",t[6].x/t[2].getBoundingClientRect().width*100+"%")},m(t,o){y(t,e,o),v(e,n),v(n,i),r=!0},p(t,n){(!r||64&n)&&c!==(c=ne(t[8](t[6].x),!0)+"")&&C(i,c),(!r||68&n)&&A(e,"left",t[6].x/t[2].getBoundingClientRect().width*100+"%")},i(t){r||(W(()=>{s&&s.end(1),o||(o=lt(e,Bt,{duration:200})),o.start()}),r=!0)},o(t){o&&o.invalidate(),s=ut(e,Bt,{duration:200}),r=!1},d(t){t&&w(e),t&&s&&s.end()}}}function te(t,e){let n;return{key:t,first:null,c(){n=b("div"),j(n,"class","point svelte-1mqkjhh"),A(n,"transform","translate("+e[23].position*e[5]/100+"px, -50%)"),this.first=n},m(t,e){y(t,n,e)},p(t,e){48&e&&A(n,"transform","translate("+t[23].position*t[5]/100+"px, -50%)")},d(t){t&&w(n)}}}function ee(t){let e,n,i,s,r,c,l,u,a,d,f,p,m,h,$,g,_,R,M=ne(t[0])+"",T=[],z=new Map,F=t[2]&&t[1]&&Zt(t),S=t[4];const q=t=>t[23].index;for(let e=0;e<S.length;e+=1){let n=Qt(t,S,e),i=q(n);z.set(i,T[e]=te(i,n))}return{c(){e=k(),n=b("div"),i=x(M),s=k(),r=b("div"),c=b("div"),l=k(),u=b("div"),a=k(),F&&F.c(),d=k();for(let t=0;t<T.length;t+=1)T[t].c();f=k(),p=b("div"),p.textContent="-5",m=k(),h=b("div"),h.textContent="+5",j(n,"class","time svelte-1mqkjhh"),j(c,"class","inner svelte-1mqkjhh"),A(c,"width","100%"),j(u,"class","centre svelte-1mqkjhh"),j(p,"class","left svelte-1mqkjhh"),j(h,"class","right svelte-1mqkjhh"),j(r,"class","outer svelte-1mqkjhh"),W(()=>t[20].call(r))},m(o,w){y(o,e,w),y(o,n,w),v(n,i),y(o,s,w),y(o,r,w),v(r,c),t[18](c),v(r,l),v(r,u),v(r,a),F&&F.m(r,null),v(r,d);for(let t=0;t<T.length;t+=1)T[t].m(r,null);v(r,f),v(r,p),v(r,m),v(r,h),t[19](r),$=N(r,t[20].bind(r)),g=!0,_||(R=[E(window,"mousemove",t[17]),E(document.body,"click",t[9]),E(r,"mouseleave",t[21]),E(r,"mouseenter",t[22])],_=!0)},p(t,[e]){if((!g||1&e)&&M!==(M=ne(t[0])+"")&&C(i,M),t[2]&&t[1]?F?(F.p(t,e),6&e&&st(F,1)):(F=Zt(t),F.c(),st(F,1),F.m(r,d)):F&&(it(),rt(F,1,1,()=>{F=null}),ot()),48&e){const n=t[4];T=function(t,e,n,i,o,s,r,c,l,u,a,d){let f=t.length,p=s.length,m=f;const h={};for(;m--;)h[t[m].key]=m;const $=[],g=new Map,v=new Map;for(m=p;m--;){const t=d(o,s,m),c=n(t);let l=r.get(c);l?i&&l.p(t,e):(l=u(c,t),l.c()),g.set(c,$[m]=l),c in h&&v.set(c,Math.abs(m-h[c]))}const y=new Set,w=new Set;function b(t){st(t,1),t.m(c,a),r.set(t.key,t),a=t.first,p--}for(;f&&p;){const e=$[p-1],n=t[f-1],i=e.key,o=n.key;e===n?(a=e.first,f--,p--):g.has(o)?!r.has(i)||y.has(i)?b(e):w.has(o)?f--:v.get(i)>v.get(o)?(w.add(i),b(e)):(y.add(o),f--):(l(n,r),f--)}for(;f--;){const e=t[f];g.has(e.key)||l(e,r)}for(;p;)b($[p-1]);return $}(T,e,q,1,t,n,z,r,at,te,f,Qt)}},i(t){g||(st(F),g=!0)},o(t){rt(F),g=!1},d(i){i&&w(e),i&&w(n),i&&w(s),i&&w(r),t[18](null),F&&F.d();for(let t=0;t<T.length;t+=1)T[t].d();t[19](null),$(),_=!1,o(R)}}}function ne(t,e=!1){if(t<0)return"0:00";if(isNaN(t))return"...";let n=t-parseInt(t);n=(Math.round(100*n)/100).toString(),n=n.slice(2);const i=Math.floor(t/60);return(t=Math.floor(t%60))<10&&(t="0"+t),e?`${i}:${t}.${n}`:`${i}:${t}`}function ie(t,e,n){let i,o,s;c(t,zt,t=>n(13,i=t)),c(t,Et,t=>n(14,o=t));let r,l,u=!1,a=qt({x:50,y:50},{stiffness:.5,damping:.95});c(t,a,t=>n(6,s=t));let{videoElement:d}=e,{time:f}=e,{context:p=5}=e,m=f;let h=0;function $(t,e){return 100*((function(t){return t/10}(t)-e)/p+.5)}let g,v=[];D(()=>{requestAnimationFrame((function t(){if(i.paused)return void requestAnimationFrame(t);let e=[],s=jt(f-p/2-1),r=jt(f+p/2+1);for(let t=0;t<r-s;++t)e[t]=[o[s+t],s+t];let c=e.map(([t,e])=>({...t,index:e,hasPosition:null!=t&&"deleted"!=t,position:$(e,f)})).filter(({hasPosition:t,position:e})=>t&&e>=0&&e<=100);n(4,v=c),requestAnimationFrame(t)}))});return t.$set=t=>{"videoElement"in t&&n(10,d=t.videoElement),"time"in t&&n(0,f=t.time),"context"in t&&n(11,p=t.context)},t.$$.update=()=>{8193&t.$$.dirty&&i.duration&&(h=f/i.duration)},[f,u,r,l,v,g,s,a,function(t){let e=t/l.getBoundingClientRect().width;return f+(e*p-p/2)},async function(t){if(t.target==l){let e=l.getBoundingClientRect(),i=(t.clientX-e.left)/e.width*p-p/2;n(10,d.currentTime+=i,d)}},d,p,h,i,o,m,$,t=>a.set({x:t.clientX-l.getBoundingClientRect().x,y:t.clientY}),function(t){I[t?"unshift":"push"](()=>{n(2,r=t)})},function(t){I[t?"unshift":"push"](()=>{n(3,l=t)})},function(){g=this.clientWidth,n(5,g)},()=>n(1,u=!1),()=>n(1,u=!0)]}class oe extends gt{constructor(t){super(),$t(this,t,ie,ee,r,{videoElement:10,time:0,context:11})}}function se(t){let e,n,i;return{c(){e=b("div"),j(e,"class","point svelte-14e7ptd"),A(e,"transform","translate("+t[2](t[1]).x+"px, "+t[2](t[1]).y+"px)")},m(t,n){y(t,e,n),i=!0},p(t,n){(!i||2&n)&&A(e,"transform","translate("+t[2](t[1]).x+"px, "+t[2](t[1]).y+"px)")},i(t){i||(n&&n.end(1),i=!0)},o(t){n=ut(e,Bt,{duration:100}),i=!1},d(t){t&&w(e),t&&n&&n.end()}}}function re(t){let e,n,i,o,s,r,c=JSON.stringify(t[1])+"",l=t[1]&&"deleted"!==t[1]&&se(t);return{c(){l&&l.c(),e=k(),n=b("div"),i=x(t[0]),o=k(),s=x(c),j(n,"class","debug svelte-14e7ptd")},m(t,c){l&&l.m(t,c),y(t,e,c),y(t,n,c),v(n,i),v(n,o),v(n,s),r=!0},p(t,[n]){t[1]&&"deleted"!==t[1]?l?(l.p(t,n),2&n&&st(l,1)):(l=se(t),l.c(),st(l,1),l.m(e.parentNode,e)):l&&(it(),rt(l,1,1,()=>{l=null}),ot()),(!r||1&n)&&C(i,t[0]),(!r||2&n)&&c!==(c=JSON.stringify(t[1])+"")&&C(s,c)},i(t){r||(st(l),r=!0)},o(t){rt(l),r=!1},d(t){l&&l.d(t),t&&w(e),t&&w(n)}}}function ce(t,e,n){let i;c(t,Et,t=>n(5,i=t));let o,s,{time:r}=e,{container:l}=e;return t.$set=t=>{"time"in t&&n(3,r=t.time),"container"in t&&n(4,l=t.container)},t.$$.update=()=>{8&t.$$.dirty&&n(0,o=jt(r)),40&t.$$.dirty&&n(1,s=i[jt(r)])},[o,s,function(t){if(!l)return t;let e=l.getBoundingClientRect();return{x:t.x*e.width-5,y:t.y*e.height-5}},r,l]}class le extends gt{constructor(t){super(),$t(this,t,ce,re,r,{time:3,container:4})}}function ue(t){let e,n,i,o,s;const r=t[21].default,c=l(r,t,t[20],null);return{c(){e=b("div"),n=b("canvas"),o=k(),c&&c.c(),j(n,"width","960"),j(n,"height","540"),j(n,"class","svelte-vwe4x3"),W(()=>t[22].call(n))},m(r,l){y(r,e,l),v(e,n),i=N(n,t[22].bind(n)),t[23](n),v(e,o),c&&c.m(e,null),s=!0},p(t,[e]){c&&c.p&&1048576&e&&a(c,r,t,t[20],e,null,null)},i(t){s||(st(c,t),s=!0)},o(t){rt(c,t),s=!1},d(n){n&&w(e),i(),t[23](null),c&&c.d(n)}}}function ae(t,e,n){let i,o,s,r;c(t,Et,t=>n(17,i=t));let l,u,a,f,p,m,h,$,g,{paused:v}=e,{loaded:y}=e,{videoElement:w}=e,{time:b}=e,{points:x}=e;function k(){var t=function(){this.win_size=20,this.max_iterations=30,this.epsilon=.01,this.min_eigen=.001};function e(){if(requestAnimationFrame(e),!(v||0==m||(n(8,l=x[0]),y.readyState!==y.HAVE_ENOUGH_DATA))){var t=o/1080*1920;a.drawImage(y,0,0,t,o);var r=a.getImageData(0,0,960,540),w=$;$=g,g=w;var k=p;n(12,p=f),n(11,f=k),jsfeat.imgproc.grayscale(r.data,960,540,f.data[0]),f.build(f.data[0],!0),jsfeat.optical_flow_lk.track(p,f,$,g,m,0|u.win_size,0|u.max_iterations,h,u.epsilon,u.min_eigen),function(t){for(var e=m,r=0,l=0;r<e;++r)1==h[r]&&(l<r&&(g[l<<1]=g[r<<1],g[1+(l<<1)]=g[1+(r<<1)]),c(t,g[l<<1],g[1+(l<<1)]),d(Et,i[jt(b)]={x:g[l<<1]/s,y:g[1+(l<<1)]/o,time:b,track:"Flow"},i),++l);0==m&&n(3,x=[])}(a)}}function c(t,e,n){t.beginPath(),t.arc(e,n,4,0,2*Math.PI,!0),t.closePath(),t.fill()}HTMLCanvasElement.prototype.relMouseCoords=function(t){var e=0,n=0,i=this;do{e+=i.offsetLeft-i.scrollLeft,n+=i.offsetTop-i.scrollTop}while(i=i.offsetParent);return{x:t.pageX-e,y:t.pageY-n}};var y=w;try{(function(i,c){n(1,s=r.width),n(0,o=r.height),a=r.getContext("2d"),a.fillStyle="rgb(0,255,0)",a.strokeStyle="rgb(0,255,0)",n(11,f=new jsfeat.pyramid_t(3)),n(12,p=new jsfeat.pyramid_t(3)),f.allocate(960,540,jsfeat.U8_t|jsfeat.C1_t),p.allocate(960,540,jsfeat.U8_t|jsfeat.C1_t),n(13,m=0),h=new Uint8Array(100),$=new Float32Array(200),g=new Float32Array(200),u=new t,requestAnimationFrame(e)})(y.videoWidth,y.videoHeight),setTimeout((function(){y.play()}),500)}catch(t){console.log("Error",t)}}let{$$slots:_={},$$scope:E}=e;return t.$set=t=>{"paused"in t&&n(4,v=t.paused),"loaded"in t&&n(5,y=t.loaded),"videoElement"in t&&n(6,w=t.videoElement),"time"in t&&n(7,b=t.time),"points"in t&&n(3,x=t.points),"$$scope"in t&&n(20,E=t.$$scope)},t.$$.update=()=>{if(8&t.$$.dirty&&console.log("Points: ",x),14603&t.$$.dirty&&(console.log("Changed"),console.log(x[0],l),x[0]!=l&&(n(11,f=new jsfeat.pyramid_t(3)),n(12,p=new jsfeat.pyramid_t(3)),f.allocate(960,540,jsfeat.U8_t|jsfeat.C1_t),p.allocate(960,540,jsfeat.U8_t|jsfeat.C1_t),n(13,m=0),h=new Uint8Array(100),$=new Float32Array(200),g=new Float32Array(200),x[0]))){let t={x:x[0].x*s,y:x[0].y*o};t.x>0&t.y>0&t.x<s&t.y<o?(g[m<<1]=t.x,g[1+(m<<1)]=t.y,n(13,m=1)):n(13,m=0)}36&t.$$.dirty&&y&&(a=r.getContext("2d"),k())},[o,s,r,x,v,y,w,b,l,u,a,f,p,m,h,$,g,i,void 0,k,E,_,function(){s=this.clientWidth,o=this.clientHeight,n(1,s),n(0,o)},function(t){I[t?"unshift":"push"](()=>{n(2,r=t)})}]}class de extends gt{constructor(t){super(),$t(this,t,ae,ue,r,{paused:4,loaded:5,videoElement:6,time:7,points:3})}}function fe(t){let e;return{c(){e=b("div"),e.textContent="Failed to load video.",j(e,"class","error svelte-izzdx1")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function pe(t){let e;const n=new le({props:{container:t[2],time:t[3]}});return{c(){ft(n.$$.fragment)},m(t,i){pt(n,t,i),e=!0},p(t,e){const i={};4&e&&(i.container=t[2]),8&e&&(i.time=t[3]),n.$set(i)},i(t){e||(st(n.$$.fragment,t),e=!0)},o(t){rt(n.$$.fragment,t),e=!1},d(t){mt(n,t)}}}function me(t){let e,n,i,s,r,c,l,u,a,d=!1,f=!0;function p(){cancelAnimationFrame(i),e.paused||(i=m(p),d=!0),t[15].call(e)}let h=t[6]&&fe(),$=t[7]&&!t[6]&&pe(t);return{c(){e=b("video"),s=k(),h&&h.c(),r=k(),$&&$.c(),c=_(),e.src!==(n=t[9].src)&&j(e,"src",n),j(e,"crossorigin","anonymous"),j(e,"preload",""),j(e,"class","svelte-izzdx1"),void 0===t[1]&&W(()=>t[16].call(e))},m(n,i){y(n,e,i),t[17](e),isNaN(t[8])||(e.playbackRate=t[8]),y(n,s,i),h&&h.m(n,i),y(n,r,i),$&&$.m(n,i),y(n,c,i),l=!0,u||(a=[E(e,"timeupdate",p),E(e,"durationchange",t[16]),E(e,"play",t[18]),E(e,"pause",t[18]),E(e,"ratechange",t[19])],u=!0)},p(t,i){(!l||512&i&&e.src!==(n=t[9].src))&&j(e,"src",n),!d&&8&i&&!isNaN(t[3])&&(e.currentTime=t[3]),d=!1,1&i&&f!==(f=t[0])&&e[f?"pause":"play"](),256&i&&!isNaN(t[8])&&(e.playbackRate=t[8]),t[6]?h||(h=fe(),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null),t[7]&&!t[6]?$?($.p(t,i),192&i&&st($,1)):($=pe(t),$.c(),st($,1),$.m(c.parentNode,c)):$&&(it(),rt($,1,1,()=>{$=null}),ot())},i(t){l||(st($),l=!0)},o(t){rt($),l=!1},d(n){n&&w(e),t[17](null),n&&w(s),h&&h.d(n),n&&w(r),$&&$.d(n),n&&w(c),u=!1,o(a)}}}function he(t){let e,n,i,o,s,r,c,l,u,a,d,f,p,m,h,$,g;function _(e){t[12].call(null,e)}let A={videoElement:t[2],loaded:t[7],time:t[3],paused:t[0]};void 0!==t[5]&&(A.points=t[5]);const R=new de({props:A});function M(e){t[13].call(null,e)}function N(e){t[14].call(null,e)}I.push(()=>dt(R,"points",_));let z={videoElement:t[2]};void 0!==t[0]&&(z.paused=t[0]),void 0!==t[3]&&(z.time=t[3]);const F=new Kt({props:z});function S(e){t[20].call(null,e)}function q(e){t[21].call(null,e)}I.push(()=>dt(F,"paused",M)),I.push(()=>dt(F,"time",N));let B={container:t[2],$$slots:{default:[me]},$$scope:{ctx:t}};void 0!==t[5]&&(B.points=t[5]),void 0!==t[3]&&(B.time=t[3]);const P=new Tt({props:B});function D(e){t[22].call(null,e)}I.push(()=>dt(P,"points",S)),I.push(()=>dt(P,"time",q));let O={context:10,videoElement:t[2]};void 0!==t[3]&&(O.time=t[3]);const L=new oe({props:O});return I.push(()=>dt(L,"time",D)),{c(){ft(R.$$.fragment),n=k(),i=b("div"),ft(F.$$.fragment),r=k(),ft(P.$$.fragment),u=k(),a=b("div"),d=x(t[8]),f=x("x"),p=k(),ft(L.$$.fragment),j(a,"class","speed svelte-izzdx1"),j(i,"class","video svelte-izzdx1"),T(i,"seeking",t[4])},m(e,o){pt(R,e,o),y(e,n,o),y(e,i,o),pt(F,i,null),v(i,r),pt(P,i,null),v(i,u),v(i,a),v(a,d),v(a,f),v(i,p),pt(L,i,null),h=!0,$||(g=E(window,"keydown",t[10]),$=!0)},p(t,[n]){const r={};4&n&&(r.videoElement=t[2]),128&n&&(r.loaded=t[7]),8&n&&(r.time=t[3]),1&n&&(r.paused=t[0]),!e&&32&n&&(e=!0,r.points=t[5],Y(()=>e=!1)),R.$set(r);const u={};4&n&&(u.videoElement=t[2]),!o&&1&n&&(o=!0,u.paused=t[0],Y(()=>o=!1)),!s&&8&n&&(s=!0,u.time=t[3],Y(()=>s=!1)),F.$set(u);const a={};4&n&&(a.container=t[2]),8389583&n&&(a.$$scope={dirty:n,ctx:t}),!c&&32&n&&(c=!0,a.points=t[5],Y(()=>c=!1)),!l&&8&n&&(l=!0,a.time=t[3],Y(()=>l=!1)),P.$set(a),(!h||256&n)&&C(d,t[8]);const f={};4&n&&(f.videoElement=t[2]),!m&&8&n&&(m=!0,f.time=t[3],Y(()=>m=!1)),L.$set(f),16&n&&T(i,"seeking",t[4])},i(t){h||(st(R.$$.fragment,t),st(F.$$.fragment,t),st(P.$$.fragment,t),st(L.$$.fragment,t),h=!0)},o(t){rt(R.$$.fragment,t),rt(F.$$.fragment,t),rt(P.$$.fragment,t),rt(L.$$.fragment,t),h=!1},d(t){mt(R,t),t&&w(n),t&&w(i),mt(F),mt(P),mt(L),$=!1,g()}}}function $e(t,e,n){let i,o,s;c(t,Ft,t=>n(8,i=t)),c(t,Et,t=>n(11,o=t)),c(t,zt,t=>n(9,s=t));let r,l,u=!0,a=0,f=!1,p=[];let m=!1,h=!1;return D(()=>{l.addEventListener("error",()=>{n(6,m=!0),n(7,h=!1)}),l.addEventListener("seeking",t=>{n(4,f=t.target.currentTime!==a)}),l.addEventListener("seeked",t=>{n(4,f=!1)}),l.addEventListener("loadeddata",()=>{n(7,h=!0),n(6,m=!1)})}),t.$$.update=()=>{2&t.$$.dirty&&zt.setDuration(r),2&t.$$.dirty&&r&&d(Et,o=Array(jt(r)).fill(null))},[u,r,l,a,f,p,m,h,i,s,async function(t){if("INPUT"!=document.activeElement.nodeName){if(" "==t.key){if(u){let t=i;d(Ft,i=.1),l.play(),setTimeout(()=>d(Ft,i=t),200)}else l.pause();t.preventDefault()}"ArrowLeft"==t.key&&n(2,l.currentTime=a-1,l),"ArrowRight"==t.key&&n(2,l.currentTime=a+1,l),"q"==t.key&&Ft.increase(),"a"==t.key&&Ft.decrease()}},o,function(t){p=t,n(5,p)},function(t){u=t,n(0,u)},function(t){a=t,n(3,a)},function(){a=this.currentTime,n(3,a)},function(){r=this.duration,n(1,r)},function(t){I[t?"unshift":"push"](()=>{n(2,l=t)})},function(){u=this.paused,n(0,u)},function(){i=this.playbackRate,Ft.set(i)},function(t){p=t,n(5,p)},function(t){a=t,n(3,a)},function(t){a=t,n(3,a)}]}class ge extends gt{constructor(t){super(),$t(this,t,$e,he,r,{})}}function ve(t){let e,n,i,o;const s=t[4].default,r=l(s,t,t[3],null);return{c(){e=b("button"),r&&r.c(),j(e,"class","svelte-1w5w4em")},m(s,c){y(s,e,c),r&&r.m(e,null),n=!0,i||(o=E(e,"click",t[0]),i=!0)},p(t,[e]){r&&r.p&&8&e&&a(r,s,t,t[3],e,null,null)},i(t){n||(st(r,t),n=!0)},o(t){rt(r,t),n=!1},d(t){t&&w(e),r&&r.d(t),i=!1,o()}}}function ye(t,e,n){let{data:i}=e,{filename:o="untitled.json"}=e;let{$$slots:s={},$$scope:r}=e;return t.$set=t=>{"data"in t&&n(1,i=t.data),"filename"in t&&n(2,o=t.filename),"$$scope"in t&&n(3,r=t.$$scope)},[function(){!function(t,e){let n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}(o,JSON.stringify(i))},i,o,r,s]}class we extends gt{constructor(t){super(),$t(this,t,ye,ve,r,{data:1,filename:2})}}function be(t){let e;return{c(){e=b("div"),e.innerHTML='<span class="svelte-1tinf72">Please enter video url</span>',j(e,"class","blocker svelte-1tinf72")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function xe(t){let e;return{c(){e=x("Download raw input")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function ke(t){let e;return{c(){e=x("Download labels")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function _e(t){let e,n,i,s,r,c,l,u,a,d,f,p,m,h,$=Ee(t[1].src)+"",g=(t[0]||""==t[1].src)&&be();const _=new we({props:{data:t[2],filename:"log.json",$$slots:{default:[xe]},$$scope:{ctx:t}}}),A=new we({props:{data:t[3],filename:"labels.json",$$slots:{default:[ke]},$$scope:{ctx:t}}});return{c(){e=b("header"),g&&g.c(),n=k(),i=b("h1"),s=x($),r=k(),c=b("div"),l=b("div"),u=b("input"),d=k(),ft(_.$$.fragment),f=k(),ft(A.$$.fragment),j(i,"class","svelte-1tinf72"),u.autofocus=!0,j(u,"placeholder","Location of mp4 file"),j(u,"type","text"),u.value=a=t[1].src,j(u,"class","svelte-1tinf72"),j(l,"class","svelte-1tinf72"),T(l,"focus",t[0]||""==t[1].src),j(c,"class","buttons svelte-1tinf72"),j(e,"class","svelte-1tinf72")},m(o,a){y(o,e,a),g&&g.m(e,null),v(e,n),v(e,i),v(i,s),v(e,r),v(e,c),v(c,l),v(l,u),v(c,d),pt(_,c,null),v(c,f),pt(A,c,null),p=!0,u.focus(),m||(h=[E(u,"keydown",je),E(u,"focus",t[5]),E(u,"blur",t[6]),E(u,"input",t[4])],m=!0)},p(t,[i]){t[0]||""==t[1].src?g||(g=be(),g.c(),g.m(e,n)):g&&(g.d(1),g=null),(!p||2&i)&&$!==($=Ee(t[1].src)+"")&&C(s,$),(!p||2&i&&a!==(a=t[1].src)&&u.value!==a)&&(u.value=a),3&i&&T(l,"focus",t[0]||""==t[1].src);const o={};4&i&&(o.data=t[2]),128&i&&(o.$$scope={dirty:i,ctx:t}),_.$set(o);const r={};8&i&&(r.data=t[3]),128&i&&(r.$$scope={dirty:i,ctx:t}),A.$set(r)},i(t){p||(st(_.$$.fragment,t),st(A.$$.fragment,t),p=!0)},o(t){rt(_.$$.fragment,t),rt(A.$$.fragment,t),p=!1},d(t){t&&w(e),g&&g.d(),mt(_),mt(A),m=!1,o(h)}}}function Ee(t){let e=t.split("/");return e[e.length-1]}function je(t){"Enter"==t.key&&t.target.blur(),console.log(t.key),"Escape"==t.key&&t.target.blur()}function Ce(t,e,n){let i,o,s;c(t,zt,t=>n(1,i=t)),c(t,_t,t=>n(2,o=t)),c(t,Et,t=>n(3,s=t));let r=!0;return[r,i,o,s,function(t){let e=t.target.value;e!=i.src&&zt.setSrc(e)},function(t){n(0,r=!0)},()=>n(0,r=!1)]}class Ae extends gt{constructor(t){super(),$t(this,t,Ce,_e,r,{})}}function Re(e){let n,i,o,s;const r=new Ae({}),c=new ge({});return{c(){n=b("main"),ft(r.$$.fragment),i=k(),o=b("div"),ft(c.$$.fragment),j(o,"class","speed svelte-oryjnn"),j(n,"class","svelte-oryjnn")},m(t,e){y(t,n,e),pt(r,n,null),v(n,i),v(n,o),pt(c,o,null),s=!0},p:t,i(t){s||(st(r.$$.fragment,t),st(c.$$.fragment,t),s=!0)},o(t){rt(r.$$.fragment,t),rt(c.$$.fragment,t),s=!1},d(t){t&&w(n),mt(r),mt(c)}}}function Me(t,e,n){let{name:i}=e;return t.$set=t=>{"name"in t&&n(0,i=t.name)},[i]}return new class extends gt{constructor(t){super(),$t(this,t,Me,Re,r,{name:0})}}({target:document.body,props:{name:"Video Annotator"}})}();
//# sourceMappingURL=bundle.js.map
